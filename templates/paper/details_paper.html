{% extends 'base.html' %}

{% block content %}
    <div class="div">
        <h1>{{ object.topic }}</h1>
        <p>{{ object.description }}</p>
        {% if is_owner %}
            <div>
                <a href="{% url 'paper edit' object.id %}">
                    <button class="button">Edit paper</button>
                </a>
                <a href="{% url 'paper delete' object.id %}">
                    <button class="button">Delete paper</button>
                </a>
            </div>
        {% endif %}
        <a href="{% url 'comment add' object.id %}">
            <button class="button">Add Comment</button>
        </a>
        {% if comments %}
            <h2>Comments:</h2>
            {% for comment in comments %}
                <div class="comment">
                    <p>{{ comment.text }}</p>
                    {% if profile == comment.commented_by %}
                        <a href="{% url 'comment edit' comment.id %}">
                            <button>Edit Comment</button>
                        </a>
                        <a href="{% url 'comment delete' comment.id %}">
                            <button>Delete Comment</button>
                        </a>
                        <h4>By {{ comment.commented_by }}</h4>
                    {% endif %}
                </div>
            {% endfor %}
        {% endif %}
    </div>
{% endblock %}
